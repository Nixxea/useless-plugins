(function(c,g,r){"use strict";const l=r.findByProps("sendBotMessage"),h=r.findByProps("setCommunicationDisabledUntil"),y=r.findByProps("getUsers"),D=r.findByProps("canManageUser"),b=r.findByProps("canToggleCommunicationDisableOnUser").canToggleCommunicationDisableOnUser,T=24192e5,M=1n<<40n,f={\u0441:1e3,\u043C:6e4,\u0447:36e5,\u0434:864e5,\u043D:6048e5,s:1e3,m:6e4,h:36e5,d:864e5,w:6048e5};function B(e){let t=0;const n=e.matchAll(/((?:\d+\.)?\d+) ?([^\d\s.]+)/g);for(const i of n){const[,m,a]=i;let o;for(const s in f)if(a.startsWith(s)){o=f[s];break}o&&(t+=o*m)}return t||null}function U(e){const t=e.match(/^(?:(\d{1,2})\.(\d{1,2})(?:\.(\d{1,4}))?)?(?:(?:\s|-| Ð² | in )?(\d{1,2}):(\d{1,2})(?::(\d{1,2}))?)?$/);if(!t||!t[0])return null;const n=new Date,i=new Date(1970,0);let[,m,a,o,s,d,p]=t;return i.setFullYear(+o||n.getFullYear()),i.setMonth(+a?a-1:n.getMonth()),i.setDate(+m||n.getDate()),s&&(i.setHours(+s),i.setMinutes(+d),i.setSeconds(+p||0)),i}function v(e){const t=B(e);if(t)return t;const n=U(e);return n?n.getTime()-Date.now():null}var C={commands:[],onLoad(){this.registerCommand({name:"mute",displayName:"mute",description:"Time out member.",displayDescription:"Time out member.",applicationId:"-1",options:[{name:"member",displayName:"member",description:"The member to time out",displayDescription:"The member to time out",required:!0,type:6},{name:"time",displayName:"time",description:"Time out time or date",displayDescription:"Time out time or date",required:!0,type:3},{name:"reason",displayName:"reason",description:"The reason for time out",displayDescription:"The reason for time out",required:!1,type:3}],type:1,inputType:1,predicate(e){return D.can(M,e.guild)},async execute(e,t){const n=e.find(function(u){return u.name==="member"}).value,i=e.find(function(u){return u.name==="time"}).value,m=e.find(function(u){return u.name==="reason"})?.value,a=y.getUser(n);if(!b(t.guild.id,n))return l.sendBotMessage(t.channel.id,"You cannot time out this member.");let o=v(i);if(!o)return l.sendBotMessage(t.channel.id,`Seems like \`${i}\` is not a valid time string.
For example: \`1h30m\` or \`1hour 10m\``);o=Math.min(T,o);const s=Date.now()+o,d=s/1e3|0;h.setCommunicationDisabledUntil(t.guild.id,n,new Date(s).toISOString(),null,m);const p=`**${a?.tag||n}** has been timed out for <t:${d}:R>, <t:${d}:d> <t:${d}:T>`;l.sendBotMessage(t.channel.id,p)}})},onUnload(){for(const e of this.commands)e();this.commnads=[]},registerCommand(e){this.commands.push(g.registerCommand(e))}};return c.default=C,Object.defineProperty(c,"__esModule",{value:!0}),c})({},vendetta.commands,vendetta.metro);
